Final memory state:
a: 5
d: 5
r: 0
dd: 0
prod: 4
i: 3
